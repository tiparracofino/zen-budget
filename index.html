function deleteAcc(id) {
    // 1. Comprobamos si hay movimientos vinculados a esta cuenta
    const hasTransactions = state.transactions.some(t => t.accountId === id);

    if (hasTransactions) {
        // 2. Si tiene movimientos, pedimos confirmación al usuario
        const confirmDelete = confirm("Esta cuenta tiene movimientos. Si la borras, también se borrará su historial. ¿Estás seguro?");
        if (!confirmDelete) return; // Si el usuario cancela, detenemos la función
        
        // 3. Si acepta, borramos todos los movimientos asociados a esa cuenta
        state.transactions = state.transactions.filter(t => t.accountId !== id);
    }

    // 4. Finalmente, borramos la cuenta y guardamos
    state.accounts = state.accounts.filter(a => a.id !== id);
    save();
}
